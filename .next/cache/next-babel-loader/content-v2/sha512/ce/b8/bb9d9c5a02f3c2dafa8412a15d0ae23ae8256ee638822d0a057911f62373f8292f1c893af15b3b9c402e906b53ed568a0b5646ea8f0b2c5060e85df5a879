{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\n\nvar useScript = function useScript(id, url) {\n  _s();\n\n  var _useState = useState(url ? \"loading\" : \"idle\"),\n      status = _useState[0],\n      setStatus = _useState[1];\n\n  useEffect(function () {\n    if (!url) {\n      setStatus(\"idle\");\n      return;\n    }\n\n    var script = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n\n    if (!script) {\n      script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.id = id;\n      script.src = url;\n      script.async = true;\n      script.setAttribute(\"data-status\", \"loading\");\n      document.body.appendChild(script);\n\n      var setAttributeFromEvent = function setAttributeFromEvent(event) {\n        script.setAttribute(\"data-status\", event.type === \"load\" ? \"ready\" : \"error\");\n      };\n\n      script.addEventListener(\"load\", setAttributeFromEvent);\n      script.addEventListener(\"error\", setAttributeFromEvent);\n    } else {\n      setStatus(script.getAttribute(\"data-status\"));\n    }\n\n    var setStateFromEvent = function setStateFromEvent(event) {\n      setStatus(event.type === \"load\" ? \"ready\" : \"error\");\n    };\n\n    script.addEventListener(\"load\", setStateFromEvent);\n    script.addEventListener(\"error\", setStateFromEvent);\n    return function () {\n      if (script) {\n        script.removeEventListener(\"load\", setStateFromEvent);\n        script.removeEventListener(\"error\", setStateFromEvent);\n      }\n    };\n  }, [url]);\n  return status;\n};\n\n_s(useScript, \"99U4d+BgYru0r4S48reKXzvSRTE=\");\n\nexport default useScript;","map":{"version":3,"sources":["/home/scordero/Projects/lolo-landing-page/hooks/useScript.js"],"names":["useState","useEffect","useScript","id","url","status","setStatus","script","document","querySelector","createElement","type","src","async","setAttribute","body","appendChild","setAttributeFromEvent","event","addEventListener","getAttribute","setStateFromEvent","removeEventListener"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAKC,GAAL,EAAa;AAAA;;AAAA,kBACDJ,QAAQ,CAACI,GAAG,GAAG,SAAH,GAAe,MAAnB,CADP;AAAA,MACtBC,MADsB;AAAA,MACdC,SADc;;AAG7BL,EAAAA,SAAS,CACP,YAAM;AACJ,QAAG,CAACG,GAAJ,EAAS;AACPE,MAAAA,SAAS,CAAC,MAAD,CAAT;AACA;AACD;;AAED,QAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,wBAAsCL,GAAtC,SAAb;;AACA,QAAG,CAACG,MAAJ,EAAY;AACVA,MAAAA,MAAM,GAAGC,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAT;AACAH,MAAAA,MAAM,CAACI,IAAP,GAAc,iBAAd;AACAJ,MAAAA,MAAM,CAACJ,EAAP,GAAYA,EAAZ;AACAI,MAAAA,MAAM,CAACK,GAAP,GAAaR,GAAb;AACAG,MAAAA,MAAM,CAACM,KAAP,GAAe,IAAf;AACAN,MAAAA,MAAM,CAACO,YAAP,CAAoB,aAApB,EAAmC,SAAnC;AACAN,MAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,MAA1B;;AAEA,UAAMU,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,KAAD,EAAW;AACvCX,QAAAA,MAAM,CAACO,YAAP,CAAoB,aAApB,EAAmCI,KAAK,CAACP,IAAN,KAAe,MAAf,GAAwB,OAAxB,GAAkC,OAArE;AACD,OAFD;;AAIAJ,MAAAA,MAAM,CAACY,gBAAP,CAAwB,MAAxB,EAAgCF,qBAAhC;AACAV,MAAAA,MAAM,CAACY,gBAAP,CAAwB,OAAxB,EAAiCF,qBAAjC;AACD,KAfD,MAeO;AACLX,MAAAA,SAAS,CAACC,MAAM,CAACa,YAAP,CAAoB,aAApB,CAAD,CAAT;AACD;;AAED,QAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACH,KAAD,EAAW;AACnCZ,MAAAA,SAAS,CAACY,KAAK,CAACP,IAAN,KAAe,MAAf,GAAwB,OAAxB,GAAkC,OAAnC,CAAT;AACD,KAFD;;AAIAJ,IAAAA,MAAM,CAACY,gBAAP,CAAwB,MAAxB,EAAgCE,iBAAhC;AACAd,IAAAA,MAAM,CAACY,gBAAP,CAAwB,OAAxB,EAAiCE,iBAAjC;AAEA,WAAO,YAAM;AACX,UAAId,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACe,mBAAP,CAA2B,MAA3B,EAAmCD,iBAAnC;AACAd,QAAAA,MAAM,CAACe,mBAAP,CAA2B,OAA3B,EAAoCD,iBAApC;AACD;AACF,KALD;AAMD,GAxCM,EAyCP,CAACjB,GAAD,CAzCO,CAAT;AA4CA,SAAOC,MAAP;AACD,CAhDD;;GAAMH,S;;AAkDN,eAAeA,SAAf","sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useScript = (id, url) => {\n  const [status, setStatus] = useState(url ? \"loading\" : \"idle\");\n\n  useEffect(\n    () => {\n      if(!url) {\n        setStatus(\"idle\");\n        return;\n      }\n\n      let script = document.querySelector(`script[src=\"${url}\"]`);\n      if(!script) {\n        script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.id = id;\n        script.src = url;\n        script.async = true;\n        script.setAttribute(\"data-status\", \"loading\");\n        document.body.appendChild(script);\n\n        const setAttributeFromEvent = (event) => {\n          script.setAttribute(\"data-status\", event.type === \"load\" ? \"ready\" : \"error\");\n        };\n\n        script.addEventListener(\"load\", setAttributeFromEvent);\n        script.addEventListener(\"error\", setAttributeFromEvent);\n      } else {\n        setStatus(script.getAttribute(\"data-status\"));\n      }\n\n      const setStateFromEvent = (event) => {\n        setStatus(event.type === \"load\" ? \"ready\" : \"error\");\n      };\n\n      script.addEventListener(\"load\", setStateFromEvent);\n      script.addEventListener(\"error\", setStateFromEvent);\n\n      return () => {\n        if (script) {\n          script.removeEventListener(\"load\", setStateFromEvent);\n          script.removeEventListener(\"error\", setStateFromEvent);\n        }\n      };\n    },\n    [url]\n  );\n\n  return status;\n};\n\nexport default useScript;"]},"metadata":{},"sourceType":"module"}