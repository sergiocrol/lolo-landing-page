{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport useHeight from '../hooks/useHeight';\n\nconst useInViewport = outerRef => {\n  const {\n    0: inViewport,\n    1: setInViewport\n  } = useState(true);\n  const viewportHeight = useHeight();\n  useEffect(() => {\n    if (viewportHeight > 0) {\n      var _outerRef$current;\n\n      const height = viewportHeight / 2 - (((_outerRef$current = outerRef.current) === null || _outerRef$current === void 0 ? void 0 : _outerRef$current.clientHeight) || viewportHeight - 10) / 2;\n      const rootMargin = `${height * -1}px 0px ${height * -1}px 0px`;\n      const options = {\n        rootMargin,\n        threshold: [0.5]\n      };\n\n      const onChange = entries => {\n        entries.forEach(entry => {\n          if (entry.target === outerRef.current) {\n            if (entry.isIntersecting) {\n              setInViewport(true);\n            } else {\n              setInViewport(false);\n            }\n          }\n        });\n      };\n\n      const observer = new IntersectionObserver(onChange, options);\n      observer.observe(outerRef.current);\n    }\n  }, [viewportHeight]);\n  return inViewport;\n};\n\nexport default useInViewport;","map":{"version":3,"sources":["/home/scordero/Projects/lolo-landing-page/hooks/useInViewport.js"],"names":["useEffect","useState","useHeight","useInViewport","outerRef","inViewport","setInViewport","viewportHeight","height","current","clientHeight","rootMargin","options","threshold","onChange","entries","forEach","entry","target","isIntersecting","observer","IntersectionObserver","observe"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAOC,SAAP,MAAsB,oBAAtB;;AAEA,MAAMC,aAAa,GAAIC,QAAD,IAAc;AAClC,QAAM;AAAA,OAACC,UAAD;AAAA,OAAaC;AAAb,MAA8BL,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAMM,cAAc,GAAGL,SAAS,EAAhC;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,cAAc,GAAG,CAArB,EAAwB;AAAA;;AACtB,YAAMC,MAAM,GACVD,cAAc,GAAG,CAAjB,GACA,CAAC,sBAAAH,QAAQ,CAACK,OAAT,wEAAkBC,YAAlB,KAAkCH,cAAc,GAAG,EAApD,IAA0D,CAF5D;AAGA,YAAMI,UAAU,GAAI,GAAEH,MAAM,GAAG,CAAC,CAAE,UAASA,MAAM,GAAG,CAAC,CAAE,QAAvD;AACA,YAAMI,OAAO,GAAG;AACdD,QAAAA,UADc;AAEdE,QAAAA,SAAS,EAAE,CAAC,GAAD;AAFG,OAAhB;;AAKA,YAAMC,QAAQ,GAAIC,OAAD,IAAa;AAC5BA,QAAAA,OAAO,CAACC,OAAR,CAAiBC,KAAD,IAAW;AACzB,cAAIA,KAAK,CAACC,MAAN,KAAiBd,QAAQ,CAACK,OAA9B,EAAuC;AACrC,gBAAIQ,KAAK,CAACE,cAAV,EAA0B;AACxBb,cAAAA,aAAa,CAAC,IAAD,CAAb;AACD,aAFD,MAEO;AACLA,cAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF;AACF,SARD;AASD,OAVD;;AAWA,YAAMc,QAAQ,GAAG,IAAIC,oBAAJ,CAAyBP,QAAzB,EAAmCF,OAAnC,CAAjB;AACAQ,MAAAA,QAAQ,CAACE,OAAT,CAAiBlB,QAAQ,CAACK,OAA1B;AACD;AACF,GAzBQ,EAyBN,CAACF,cAAD,CAzBM,CAAT;AA2BA,SAAOF,UAAP;AACD,CAhCD;;AAkCA,eAAeF,aAAf","sourcesContent":["import { useEffect, useState } from 'react';\n\nimport useHeight from '../hooks/useHeight';\n\nconst useInViewport = (outerRef) => {\n  const [inViewport, setInViewport] = useState(true);\n  const viewportHeight = useHeight();\n\n  useEffect(() => {\n    if (viewportHeight > 0) {\n      const height =\n        viewportHeight / 2 -\n        (outerRef.current?.clientHeight || viewportHeight - 10) / 2;\n      const rootMargin = `${height * -1}px 0px ${height * -1}px 0px`;\n      const options = {\n        rootMargin,\n        threshold: [0.5],\n      };\n\n      const onChange = (entries) => {\n        entries.forEach((entry) => {\n          if (entry.target === outerRef.current) {\n            if (entry.isIntersecting) {\n              setInViewport(true);\n            } else {\n              setInViewport(false);\n            }\n          }\n        });\n      };\n      const observer = new IntersectionObserver(onChange, options);\n      observer.observe(outerRef.current);\n    }\n  }, [viewportHeight]);\n\n  return inViewport;\n}\n\nexport default useInViewport;"]},"metadata":{},"sourceType":"module"}